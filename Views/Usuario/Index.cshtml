@{
    ViewData["Title"] = "Listado Usuarios";
}
@using tl2_tp10_2023_IvanDMir.ViewModels
@model LUViewModel

<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/css/bootstrap.min.css">
</head>

<div class="container mt-4">
    <table class="table table-bordered table-striped">
        <thead class="table-dark">
            <tr>
                <th scope="col">Id</th>
                <th scope="col">Nombre de Usuario</th>
                <th scope="col">Rol</th>
                <th scope="col">Acciones</th>
            </tr>
        </thead>
        <tbody>
            @foreach (Usuario user in Model.Usuarios)
            {
                <tr>
                    <td>@user.id_usuario</td>
                    <td>@user.nombre_De_Usuario</td>
                    <td>@user.rol</td>
                    <td>
                        <button class="btn btn-primary btn-sm me-1">
                            <a asp-controller="Usuario" asp-action="Update" asp-route-id="@user.id_usuario" class="text-white text-decoration-none">Actualizar</a>
                        </button>
                        <button class="btn btn-danger btn-sm" onclick="confirmarBorrado('@user.id_usuario', '@user.nombre_De_Usuario')">
                            Borrar
                        </button>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
<script>
    function confirmarBorrado(userId, userName) {
        if (confirm("¿Estás seguro de que deseas borrar al usuario '" + userName + "'?")) {
            window.location.href = '/Usuario/Delete?id=' + userId;
        }
    }
</script>
